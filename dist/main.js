!function(t){var n={};function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(i,a,function(n){return t[n]}.bind(null,a));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=3)}([function(t,n,e){(function(t,e){var i;!function(){var a="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},s=a._,r=Array.prototype,o=Object.prototype,m="undefined"!=typeof Symbol?Symbol.prototype:null,h=r.push,c=r.slice,l=o.toString,g=o.hasOwnProperty,p=Array.isArray,u=Object.keys,f=Object.create,d=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};n.nodeType?a._=v:(!e.nodeType&&e.exports&&(n=e.exports=v),n._=v),v.VERSION="1.9.2";var k,y=function(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,i,a){return t.call(n,e,i,a)};case 4:return function(e,i,a,s){return t.call(n,e,i,a,s)}}return function(){return t.apply(n,arguments)}},w=function(t,n,e){return v.iteratee!==k?v.iteratee(t,n):null==t?v.identity:v.isFunction(t)?y(t,n,e):v.isObject(t)&&!v.isArray(t)?v.matcher(t):v.property(t)};v.iteratee=k=function(t,n){return w(t,n,1/0)};var x=function(t,n){return n=null==n?t.length-1:+n,function(){for(var e=Math.max(arguments.length-n,0),i=Array(e),a=0;a<e;a++)i[a]=arguments[a+n];switch(n){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var s=Array(n+1);for(a=0;a<n;a++)s[a]=arguments[a];return s[n]=i,t.apply(this,s)}},b=function(t){if(!v.isObject(t))return{};if(f)return f(t);d.prototype=t;var n=new d;return d.prototype=null,n},_=function(t){return function(n){return null==n?void 0:n[t]}},q=function(t,n){return null!=t&&g.call(t,n)},P=function(t,n){for(var e=n.length,i=0;i<e;i++){if(null==t)return;t=t[n[i]]}return e?t:void 0},D=Math.pow(2,53)-1,A=_("length"),T=function(t){var n=A(t);return"number"==typeof n&&n>=0&&n<=D};v.each=v.forEach=function(t,n,e){var i,a;if(n=y(n,e),T(t))for(i=0,a=t.length;i<a;i++)n(t[i],i,t);else{var s=v.keys(t);for(i=0,a=s.length;i<a;i++)n(t[s[i]],s[i],t)}return t},v.map=v.collect=function(t,n,e){n=w(n,e);for(var i=!T(t)&&v.keys(t),a=(i||t).length,s=Array(a),r=0;r<a;r++){var o=i?i[r]:r;s[r]=n(t[o],o,t)}return s};var M=function(t){var n=function(n,e,i,a){var s=!T(n)&&v.keys(n),r=(s||n).length,o=t>0?0:r-1;for(a||(i=n[s?s[o]:o],o+=t);o>=0&&o<r;o+=t){var m=s?s[o]:o;i=e(i,n[m],m,n)}return i};return function(t,e,i,a){var s=arguments.length>=3;return n(t,y(e,a,4),i,s)}};v.reduce=v.foldl=v.inject=M(1),v.reduceRight=v.foldr=M(-1),v.find=v.detect=function(t,n,e){var i=(T(t)?v.findIndex:v.findKey)(t,n,e);if(void 0!==i&&-1!==i)return t[i]},v.filter=v.select=function(t,n,e){var i=[];return n=w(n,e),v.each(t,(function(t,e,a){n(t,e,a)&&i.push(t)})),i},v.reject=function(t,n,e){return v.filter(t,v.negate(w(n)),e)},v.every=v.all=function(t,n,e){n=w(n,e);for(var i=!T(t)&&v.keys(t),a=(i||t).length,s=0;s<a;s++){var r=i?i[s]:s;if(!n(t[r],r,t))return!1}return!0},v.some=v.any=function(t,n,e){n=w(n,e);for(var i=!T(t)&&v.keys(t),a=(i||t).length,s=0;s<a;s++){var r=i?i[s]:s;if(n(t[r],r,t))return!0}return!1},v.contains=v.includes=v.include=function(t,n,e,i){return T(t)||(t=v.values(t)),("number"!=typeof e||i)&&(e=0),v.indexOf(t,n,e)>=0},v.invoke=x((function(t,n,e){var i,a;return v.isFunction(n)?a=n:v.isArray(n)&&(i=n.slice(0,-1),n=n[n.length-1]),v.map(t,(function(t){var s=a;if(!s){if(i&&i.length&&(t=P(t,i)),null==t)return;s=t[n]}return null==s?s:s.apply(t,e)}))})),v.pluck=function(t,n){return v.map(t,v.property(n))},v.where=function(t,n){return v.filter(t,v.matcher(n))},v.findWhere=function(t,n){return v.find(t,v.matcher(n))},v.max=function(t,n,e){var i,a,s=-1/0,r=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var o=0,m=(t=T(t)?t:v.values(t)).length;o<m;o++)null!=(i=t[o])&&i>s&&(s=i);else n=w(n,e),v.each(t,(function(t,e,i){((a=n(t,e,i))>r||a===-1/0&&s===-1/0)&&(s=t,r=a)}));return s},v.min=function(t,n,e){var i,a,s=1/0,r=1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var o=0,m=(t=T(t)?t:v.values(t)).length;o<m;o++)null!=(i=t[o])&&i<s&&(s=i);else n=w(n,e),v.each(t,(function(t,e,i){((a=n(t,e,i))<r||a===1/0&&s===1/0)&&(s=t,r=a)}));return s},v.shuffle=function(t){return v.sample(t,1/0)},v.sample=function(t,n,e){if(null==n||e)return T(t)||(t=v.values(t)),t[v.random(t.length-1)];var i=T(t)?v.clone(t):v.values(t),a=A(i);n=Math.max(Math.min(n,a),0);for(var s=a-1,r=0;r<n;r++){var o=v.random(r,s),m=i[r];i[r]=i[o],i[o]=m}return i.slice(0,n)},v.sortBy=function(t,n,e){var i=0;return n=w(n,e),v.pluck(v.map(t,(function(t,e,a){return{value:t,index:i++,criteria:n(t,e,a)}})).sort((function(t,n){var e=t.criteria,i=n.criteria;if(e!==i){if(e>i||void 0===e)return 1;if(e<i||void 0===i)return-1}return t.index-n.index})),"value")};var j=function(t,n){return function(e,i,a){var s=n?[[],[]]:{};return i=w(i,a),v.each(e,(function(n,a){var r=i(n,a,e);t(s,n,r)})),s}};v.groupBy=j((function(t,n,e){q(t,e)?t[e].push(n):t[e]=[n]})),v.indexBy=j((function(t,n,e){t[e]=n})),v.countBy=j((function(t,n,e){q(t,e)?t[e]++:t[e]=1}));var L=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(t){return t?v.isArray(t)?c.call(t):v.isString(t)?t.match(L):T(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:T(t)?t.length:v.keys(t).length},v.partition=j((function(t,n,e){t[e?0:1].push(n)}),!0),v.first=v.head=v.take=function(t,n,e){return null==t||t.length<1?null==n?void 0:[]:null==n||e?t[0]:v.initial(t,t.length-n)},v.initial=function(t,n,e){return c.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))},v.last=function(t,n,e){return null==t||t.length<1?null==n?void 0:[]:null==n||e?t[t.length-1]:v.rest(t,Math.max(0,t.length-n))},v.rest=v.tail=v.drop=function(t,n,e){return c.call(t,null==n||e?1:n)},v.compact=function(t){return v.filter(t,Boolean)};var S=function(t,n,e,i){for(var a=(i=i||[]).length,s=0,r=A(t);s<r;s++){var o=t[s];if(T(o)&&(v.isArray(o)||v.isArguments(o)))if(n)for(var m=0,h=o.length;m<h;)i[a++]=o[m++];else S(o,n,e,i),a=i.length;else e||(i[a++]=o)}return i};v.flatten=function(t,n){return S(t,n,!1)},v.without=x((function(t,n){return v.difference(t,n)})),v.uniq=v.unique=function(t,n,e,i){v.isBoolean(n)||(i=e,e=n,n=!1),null!=e&&(e=w(e,i));for(var a=[],s=[],r=0,o=A(t);r<o;r++){var m=t[r],h=e?e(m,r,t):m;n&&!e?(r&&s===h||a.push(m),s=h):e?v.contains(s,h)||(s.push(h),a.push(m)):v.contains(a,m)||a.push(m)}return a},v.union=x((function(t){return v.uniq(S(t,!0,!0))})),v.intersection=function(t){for(var n=[],e=arguments.length,i=0,a=A(t);i<a;i++){var s=t[i];if(!v.contains(n,s)){var r;for(r=1;r<e&&v.contains(arguments[r],s);r++);r===e&&n.push(s)}}return n},v.difference=x((function(t,n){return n=S(n,!0,!0),v.filter(t,(function(t){return!v.contains(n,t)}))})),v.unzip=function(t){for(var n=t&&v.max(t,A).length||0,e=Array(n),i=0;i<n;i++)e[i]=v.pluck(t,i);return e},v.zip=x(v.unzip),v.object=function(t,n){for(var e={},i=0,a=A(t);i<a;i++)n?e[t[i]]=n[i]:e[t[i][0]]=t[i][1];return e};var I=function(t){return function(n,e,i){e=w(e,i);for(var a=A(n),s=t>0?0:a-1;s>=0&&s<a;s+=t)if(e(n[s],s,n))return s;return-1}};v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,n,e,i){for(var a=(e=w(e,i,1))(n),s=0,r=A(t);s<r;){var o=Math.floor((s+r)/2);e(t[o])<a?s=o+1:r=o}return s};var O=function(t,n,e){return function(i,a,s){var r=0,o=A(i);if("number"==typeof s)t>0?r=s>=0?s:Math.max(s+o,r):o=s>=0?Math.min(s+1,o):s+o+1;else if(e&&s&&o)return i[s=e(i,a)]===a?s:-1;if(a!=a)return(s=n(c.call(i,r,o),v.isNaN))>=0?s+r:-1;for(s=t>0?r:o-1;s>=0&&s<o;s+=t)if(i[s]===a)return s;return-1}};v.indexOf=O(1,v.findIndex,v.sortedIndex),v.lastIndexOf=O(-1,v.findLastIndex),v.range=function(t,n,e){null==n&&(n=t||0,t=0),e||(e=n<t?-1:1);for(var i=Math.max(Math.ceil((n-t)/e),0),a=Array(i),s=0;s<i;s++,t+=e)a[s]=t;return a},v.chunk=function(t,n){if(null==n||n<1)return[];for(var e=[],i=0,a=t.length;i<a;)e.push(c.call(t,i,i+=n));return e};var E=function(t,n,e,i,a){if(!(i instanceof n))return t.apply(e,a);var s=b(t.prototype),r=t.apply(s,a);return v.isObject(r)?r:s};v.bind=x((function(t,n,e){if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var i=x((function(a){return E(t,i,n,this,e.concat(a))}));return i})),v.partial=x((function(t,n){var e=v.partial.placeholder,i=function(){for(var a=0,s=n.length,r=Array(s),o=0;o<s;o++)r[o]=n[o]===e?arguments[a++]:n[o];for(;a<arguments.length;)r.push(arguments[a++]);return E(t,i,this,this,r)};return i})),v.partial.placeholder=v,v.bindAll=x((function(t,n){var e=(n=S(n,!1,!1)).length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var i=n[e];t[i]=v.bind(t[i],t)}})),v.memoize=function(t,n){var e=function(i){var a=e.cache,s=""+(n?n.apply(this,arguments):i);return q(a,s)||(a[s]=t.apply(this,arguments)),a[s]};return e.cache={},e},v.delay=x((function(t,n,e){return setTimeout((function(){return t.apply(null,e)}),n)})),v.defer=v.partial(v.delay,v,1),v.throttle=function(t,n,e){var i,a,s,r,o=0;e||(e={});var m=function(){o=!1===e.leading?0:v.now(),i=null,r=t.apply(a,s),i||(a=s=null)},h=function(){var h=v.now();o||!1!==e.leading||(o=h);var c=n-(h-o);return a=this,s=arguments,c<=0||c>n?(i&&(clearTimeout(i),i=null),o=h,r=t.apply(a,s),i||(a=s=null)):i||!1===e.trailing||(i=setTimeout(m,c)),r};return h.cancel=function(){clearTimeout(i),o=0,i=a=s=null},h},v.debounce=function(t,n,e){var i,a,s=function(n,e){i=null,e&&(a=t.apply(n,e))},r=x((function(r){if(i&&clearTimeout(i),e){var o=!i;i=setTimeout(s,n),o&&(a=t.apply(this,r))}else i=v.delay(s,n,this,r);return a}));return r.cancel=function(){clearTimeout(i),i=null},r},v.wrap=function(t,n){return v.partial(n,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,n=t.length-1;return function(){for(var e=n,i=t[n].apply(this,arguments);e--;)i=t[e].call(this,i);return i}},v.after=function(t,n){return function(){if(--t<1)return n.apply(this,arguments)}},v.before=function(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=null),e}},v.once=v.partial(v.before,2),v.restArguments=x;var R=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],C=function(t,n){var e=F.length,i=t.constructor,a=v.isFunction(i)&&i.prototype||o,s="constructor";for(q(t,s)&&!v.contains(n,s)&&n.push(s);e--;)(s=F[e])in t&&t[s]!==a[s]&&!v.contains(n,s)&&n.push(s)};v.keys=function(t){if(!v.isObject(t))return[];if(u)return u(t);var n=[];for(var e in t)q(t,e)&&n.push(e);return R&&C(t,n),n},v.allKeys=function(t){if(!v.isObject(t))return[];var n=[];for(var e in t)n.push(e);return R&&C(t,n),n},v.values=function(t){for(var n=v.keys(t),e=n.length,i=Array(e),a=0;a<e;a++)i[a]=t[n[a]];return i},v.mapObject=function(t,n,e){n=w(n,e);for(var i=v.keys(t),a=i.length,s={},r=0;r<a;r++){var o=i[r];s[o]=n(t[o],o,t)}return s},v.pairs=function(t){for(var n=v.keys(t),e=n.length,i=Array(e),a=0;a<e;a++)i[a]=[n[a],t[n[a]]];return i},v.invert=function(t){for(var n={},e=v.keys(t),i=0,a=e.length;i<a;i++)n[t[e[i]]]=e[i];return n},v.functions=v.methods=function(t){var n=[];for(var e in t)v.isFunction(t[e])&&n.push(e);return n.sort()};var U=function(t,n){return function(e){var i=arguments.length;if(n&&(e=Object(e)),i<2||null==e)return e;for(var a=1;a<i;a++)for(var s=arguments[a],r=t(s),o=r.length,m=0;m<o;m++){var h=r[m];n&&void 0!==e[h]||(e[h]=s[h])}return e}};v.extend=U(v.allKeys),v.extendOwn=v.assign=U(v.keys),v.findKey=function(t,n,e){n=w(n,e);for(var i,a=v.keys(t),s=0,r=a.length;s<r;s++)if(n(t[i=a[s]],i,t))return i};var N,B,K=function(t,n,e){return n in e};v.pick=x((function(t,n){var e={},i=n[0];if(null==t)return e;v.isFunction(i)?(n.length>1&&(i=y(i,n[1])),n=v.allKeys(t)):(i=K,n=S(n,!1,!1),t=Object(t));for(var a=0,s=n.length;a<s;a++){var r=n[a],o=t[r];i(o,r,t)&&(e[r]=o)}return e})),v.omit=x((function(t,n){var e,i=n[0];return v.isFunction(i)?(i=v.negate(i),n.length>1&&(e=n[1])):(n=v.map(S(n,!1,!1),String),i=function(t,e){return!v.contains(n,e)}),v.pick(t,i,e)})),v.defaults=U(v.allKeys,!0),v.create=function(t,n){var e=b(t);return n&&v.extendOwn(e,n),e},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,n){return n(t),t},v.isMatch=function(t,n){var e=v.keys(n),i=e.length;if(null==t)return!i;for(var a=Object(t),s=0;s<i;s++){var r=e[s];if(n[r]!==a[r]||!(r in a))return!1}return!0},N=function(t,n,e,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;return("function"===a||"object"===a||"object"==typeof n)&&B(t,n,e,i)},B=function(t,n,e,i){t instanceof v&&(t=t._wrapped),n instanceof v&&(n=n._wrapped);var a=l.call(t);if(a!==l.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return m.valueOf.call(t)===m.valueOf.call(n)}var s="[object Array]"===a;if(!s){if("object"!=typeof t||"object"!=typeof n)return!1;var r=t.constructor,o=n.constructor;if(r!==o&&!(v.isFunction(r)&&r instanceof r&&v.isFunction(o)&&o instanceof o)&&"constructor"in t&&"constructor"in n)return!1}i=i||[];for(var h=(e=e||[]).length;h--;)if(e[h]===t)return i[h]===n;if(e.push(t),i.push(n),s){if((h=t.length)!==n.length)return!1;for(;h--;)if(!N(t[h],n[h],e,i))return!1}else{var c,g=v.keys(t);if(h=g.length,v.keys(n).length!==h)return!1;for(;h--;)if(c=g[h],!q(n,c)||!N(t[c],n[c],e,i))return!1}return e.pop(),i.pop(),!0},v.isEqual=function(t,n){return N(t,n)},v.isEmpty=function(t){return null==t||(T(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=p||function(t){return"[object Array]"===l.call(t)},v.isObject=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(t){v["is"+t]=function(n){return l.call(n)==="[object "+t+"]"}})),v.isArguments(arguments)||(v.isArguments=function(t){return q(t,"callee")});var z=a.document&&a.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof z&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return!v.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&isNaN(t)},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===l.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,n){if(!v.isArray(n))return q(t,n);for(var e=n.length,i=0;i<e;i++){var a=n[i];if(null==t||!g.call(t,a))return!1;t=t[a]}return!!e},v.noConflict=function(){return a._=s,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=function(t){return v.isArray(t)?function(n){return P(n,t)}:_(t)},v.propertyOf=function(t){return null==t?function(){}:function(n){return v.isArray(n)?P(t,n):t[n]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(n){return v.isMatch(n,t)}},v.times=function(t,n,e){var i=Array(Math.max(0,t));n=y(n,e,1);for(var a=0;a<t;a++)i[a]=n(a);return i},v.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var $={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},W=v.invert($),H=function(t){var n=function(n){return t[n]},e="(?:"+v.keys(t).join("|")+")",i=RegExp(e),a=RegExp(e,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(a,n):t}};v.escape=H($),v.unescape=H(W),v.result=function(t,n,e){v.isArray(n)||(n=[n]);var i=n.length;if(!i)return v.isFunction(e)?e.call(t):e;for(var a=0;a<i;a++){var s=null==t?void 0:t[n[a]];void 0===s&&(s=e,a=i),t=v.isFunction(s)?s.call(t):s}return t};var J=0;v.uniqueId=function(t){var n=++J+"";return t?t+n:n},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(t){return"\\"+Y[t]};v.template=function(t,n,e){!n&&e&&(n=e),n=v.defaults({},n,v.templateSettings);var i,a=RegExp([(n.escape||V).source,(n.interpolate||V).source,(n.evaluate||V).source].join("|")+"|$","g"),s=0,r="__p+='";t.replace(a,(function(n,e,i,a,o){return r+=t.slice(s,o).replace(G,Q),s=o+n.length,e?r+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),n})),r+="';\n",n.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{i=new Function(n.variable||"obj","_",r)}catch(t){throw t.source=r,t}var o=function(t){return i.call(this,t,v)},m=n.variable||"obj";return o.source="function("+m+"){\n"+r+"}",o},v.chain=function(t){var n=v(t);return n._chain=!0,n};var X=function(t,n){return t._chain?v(n).chain():n};v.mixin=function(t){return v.each(v.functions(t),(function(n){var e=v[n]=t[n];v.prototype[n]=function(){var t=[this._wrapped];return h.apply(t,arguments),X(this,e.apply(v,t))}})),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var n=r[t];v.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],X(this,e)}})),v.each(["concat","join","slice"],(function(t){var n=r[t];v.prototype[t]=function(){return X(this,n.apply(this._wrapped,arguments))}})),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},void 0===(i=function(){return v}.apply(n,[]))||(e.exports=i)}()}).call(this,e(1),e(2)(t))},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){"use strict";e.r(n);const i=(t,n,e,i,a,s,r,o,m,h)=>{let c,l;t.save(),void 0===a&&(a=n.width),void 0===s&&(s=n.height),void 0===h&&(h=!1),h&&(e-=a/2,i-=s/2),t.translate(e+a/2,i+s/2);var g=2*Math.PI-r*Math.PI/180;t.rotate(g),c=o?-1:1,l=m?-1:1,t.scale(c,l),t.drawImage(n,-a/2,-s/2,a,s),t.restore()},a=(t,n,e)=>{let i=Math.min(n,e),a=Math.max(n,e);return t>i&&t<a},s=(t,n)=>{var e=t[0],i=t[1],a=e-n[0],s=i-n[1];return Math.sqrt(a*a+s*s)};class r{constructor(t,n=[0,0]){this.position=n,this.movement=[0,0],this.maxHealth=100,this.currentHealth=100,this.game=t,this.upgrades=[],this.state,this.lastDir="up",this.lastDirLR="left",this.lastDirUD="up",this.frame,this.frameLength,this.dead=!1,this.frameTime=this.frameLength,this.offset=[42,37.5],this.centerPos=[this.position[0]+this.offset[0],this.position[1]+this.offset[1]],this.type=1,this.resetAnimation()}resetAnimation(){this.state="stand",this.frame=0,this.frameLength=80}updateCenterPos(){this.centerPos=[this.position[0]+this.offset[0],this.position[1]+this.offset[1]]}handleReset(){0===this.movement[0]&&0===this.movement[1]&&"move"===this.state&&this.resetAnimation()}handleMovement(){this.handleReset(),this.movement[0]>0&&(this.movement[0]>=4?(this.position[0]+=4,this.movement[0]-=4):(this.position[0]-=this.movement[0],this.movement[0]=0)),this.movement[0]<0&&(this.movement[0]<=-4?(this.position[0]-=4,this.movement[0]+=4):(this.position[0]+=this.movement[0],this.movement[0]=0)),this.movement[1]>0&&(this.movement[1]>=4?(this.position[1]+=4,this.movement[1]-=4):(this.position[1]-=this.movement[1],this.movement[1]=0)),this.movement[1]<0&&(this.movement[1]<=-4?(this.position[1]-=4,this.movement[1]+=4):(this.position[1]+=this.movement[1],this.movement[1]=0)),this.updateCenterPos()}draw(t){var n=new Image,e=this.position,a=this.lastDirLR;n.src=this.animations[this.state].frameData[this.lastDirUD][this.frame],i(t,n,e[0],e[1],84,75,0,"left"===a,!1)}move(t){this.state="move",this.frameLength=8,this.updateCenterPos(),"up"===t?(this.position[1]-20<0?this.movement[1]=this.position[1]:this.movement[1]-=20,this.lastDirUD="up",this.lastDir="up"):"down"===t?(this.position[1]+20>this.game.dimensions.height?this.movement[1]=this.game.dimensions.height-this.position[1]:this.movement[1]+=20,this.lastDirUD="down",this.lastDir="down"):"left"===t?(this.position[0]-20<0?this.movement[0]=this.position[0]:this.movement[0]-=20,this.lastDirLR="left",this.lastDir="left"):"right"===t&&(this.position[0]+20>this.game.dimensions.width?this.movement[0]=this.game.dimensions.width-this.position[0]:this.movement[0]+=20,this.lastDirLR="right",this.lastDir="right")}attack(){if(this.dead)return null;let t,n;this.state="attack",this.frameLength=8,this.frameTime=8,this.frame=0,this.updateCenterPos(),"up"===this.lastDir?(t=[this.centerPos[0]-25,this.centerPos[0]+25],n=[this.centerPos[1]-50,this.centerPos[1]+5]):"down"===this.lastDir?(t=[this.centerPos[0]-25,this.centerPos[0]+25],n=[this.centerPos[1]-5,this.centerPos[1]+50]):"left"===this.lastDir?(n=[this.centerPos[1]-30,this.centerPos[1]+30],t=[this.centerPos[0]-50,this.centerPos[0]+5]):"right"===this.lastDir&&(n=[this.centerPos[1]-30,this.centerPos[1]+30],t=[this.centerPos[0]-5,this.centerPos[0]+50]),this.game.handleAttack(this,t,n)}die(){this.dead||(this.state="death",this.dead=!0,this.frame=0,this.frameLength=8,this.frameTime=8,setTimeout(()=>this.game.chars.splice(this.game.chars.indexOf(this),1),500))}}class o extends r{constructor(t,n){super(t,[n[0]-42,n[1]-37.5]),this.state="stand",this.animations={stand:{frames:1,frameData:{up:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"],down:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"]}},death:{frames:16,frameData:{up:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"],down:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"]}}},this.frame=0,this.frameLength=100,this.frameTime=100,this.dead=!1,this.die()}die(){this.dead||(this.state="death",this.dead=!0,this.frame=0,this.frameLength=3,this.frameTime=3,setTimeout(()=>this.game.chars.splice(this.game.chars.indexOf(this),1),1e3))}}class m extends o{constructor(t,n){super(t,[n[0]-100,n[1]-100])}draw(t){var n=new Image,e=this.position;this.lastDirLR;n.src=this.animations[this.state].frameData[this.lastDirUD][this.frame],i(t,n,e[0],e[1],250,250,0,!1,!1)}}class h extends r{constructor(t){super(t,[600,300]),this.animations={stand:{frames:5,frameData:{up:["../src/game/animations/barkley/stand-up-0.png","../src/game/animations/barkley/stand-up-1.png","../src/game/animations/barkley/stand-up-2.png","../src/game/animations/barkley/stand-up-3.png","../src/game/animations/barkley/stand-up-4.png"],down:["../src/game/animations/barkley/stand-down-0.png","../src/game/animations/barkley/stand-down-1.png","../src/game/animations/barkley/stand-down-2.png","../src/game/animations/barkley/stand-down-3.png","../src/game/animations/barkley/stand-down-4.png","../src/game/animations/barkley/stand-down-5.png"]}},move:{frames:8,frameData:{up:["../src/game/animations/barkley/move-up-0.png","../src/game/animations/barkley/move-up-1.png","../src/game/animations/barkley/move-up-2.png","../src/game/animations/barkley/move-up-3.png","../src/game/animations/barkley/move-up-4.png","../src/game/animations/barkley/move-up-5.png","../src/game/animations/barkley/move-up-6.png","../src/game/animations/barkley/move-up-7.png"],down:["../src/game/animations/barkley/move-down-0.png","../src/game/animations/barkley/move-down-1.png","../src/game/animations/barkley/move-down-2.png","../src/game/animations/barkley/move-down-3.png","../src/game/animations/barkley/move-down-4.png","../src/game/animations/barkley/move-down-5.png","../src/game/animations/barkley/move-down-6.png","../src/game/animations/barkley/move-down-7.png"],right:["../src/game/animations/barkley/move-right-0.png","../src/game/animations/barkley/move-right-1.png","../src/game/animations/barkley/move-right-2.png","../src/game/animations/barkley/move-right-3.png","../src/game/animations/barkley/move-right-4.png","../src/game/animations/barkley/move-right-5.png","../src/game/animations/barkley/move-right-6.png","../src/game/animations/barkley/move-right-7.png"],left:["../src/game/animations/barkley/move-left-0.png","../src/game/animations/barkley/move-left-1.png","../src/game/animations/barkley/move-left-2.png","../src/game/animations/barkley/move-left-3.png","../src/game/animations/barkley/move-left-4.png","../src/game/animations/barkley/move-left-5.png","../src/game/animations/barkley/move-left-6.png","../src/game/animations/barkley/move-left-7.png"]}},attack:{frames:3,frameData:{up:["../src/game/animations/barkley/attack-up-0.png","../src/game/animations/barkley/attack-up-1.png","../src/game/animations/barkley/attack-up-2.png"],down:["../src/game/animations/barkley/attack-down-0.png","../src/game/animations/barkley/attack-down-1.png","../src/game/animations/barkley/attack-down-2.png"],right:["../src/game/animations/barkley/attack-right-0.png","../src/game/animations/barkley/attack-right-1.png","../src/game/animations/barkley/attack-right-2.png"],left:["../src/game/animations/barkley/attack-left-0.png","../src/game/animations/barkley/attack-left-1.png","../src/game/animations/barkley/attack-left-2.png"]}},dunk:{frames:9,frameData:{up:["../src/game/animations/barkley/dunk-0.png","../src/game/animations/barkley/dunk-1.png","../src/game/animations/barkley/dunk-2.png","../src/game/animations/barkley/dunk-3.png","../src/game/animations/barkley/dunk-4.png","../src/game/animations/barkley/dunk-5.png","../src/game/animations/barkley/dunk-6.png","../src/game/animations/barkley/dunk-7.png","../src/game/animations/barkley/dunk-8.png"],down:["../src/game/animations/barkley/dunk-0.png","../src/game/animations/barkley/dunk-1.png","../src/game/animations/barkley/dunk-2.png","../src/game/animations/barkley/dunk-3.png","../src/game/animations/barkley/dunk-4.png","../src/game/animations/barkley/dunk-5.png","../src/game/animations/barkley/dunk-6.png","../src/game/animations/barkley/dunk-7.png","../src/game/animations/barkley/dunk-8.png"]}},death:{frames:15,frameData:{up:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"],down:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"]}}},this.life=5,this.type=0,this.offset=[50,70],this.centerPos=[this.position[0]+this.offset[0]+this.position[1]+this.offset[1]]}resetAnimation(){this.state="stand",this.frame=0,this.frameLength=3,this.offset=[50,70],this.updateCenterPos()}draw(t){var n=new Image,e=this.position,a=this.lastDirLR,s=this.lastDirUD;switch(this.state){case"stand":n.src=this.animations[this.state].frameData[this.lastDirUD][this.frame],i(t,n,e[0],e[1],100,140,0,"down"===s&&"left"===a||"up"===s&&"right"===a,!1);break;case"move":case"attack":n.src=this.animations[this.state].frameData[this.lastDir][this.frame],t.drawImage(n,e[0],e[1]);break;case"dunk":n.src=this.animations[this.state].frameData[this.lastDirUD][this.frame],i(t,n,e[0],e[1]-20,120,175,0,"left"===a,!1);break;default:n.src=this.animations[this.state].frameData[this.lastDirUD][this.frame],i(t,n,e[0],e[1],150,150,0,"left"===a,!1)}}die(){this.life-=1;let t=new Audio;this.life<=0?this.dead||(this.state="death",this.dead=!0,this.frame=0,this.frameLength=4,this.frameTime=4,t.src="../src/game/sounds/explosion.mp3",t.play(),setTimeout(()=>this.game.gameOver(),1e3)):(t.src="../src/game/sounds/grunt.mp3",t.play())}move(t){switch(this.state="move",this.offset=[60,70],this.frameLength=3,this.updateCenterPos(),t){case"up":this.position[1]-48<0?this.movement[1]=-this.position[1]:this.movement[1]=-48,this.lastDirUD="up",this.lastDir="up";break;case"down":this.position[1]+48>this.game.dimensions.height?this.movement[1]=this.game.dimensions.height-this.position[1]:this.movement[1]=48,this.lastDirUD="down",this.lastDir="down";break;case"left":this.position[0]-48<0?this.movement[0]=-this.position[0]:this.movement[0]=-48,this.lastDirLR="left",this.lastDir="left";break;case"right":this.position[0]+48>this.game.dimensions.width?this.movement[0]=this.game.dimensions.width-this.position[0]:this.movement[0]=48,this.lastDirLR="right",this.lastDir="right"}}attack(){if(this.dead)return null;let t,n;switch(this.state="attack",this.offset=[60,70],this.frameLength=8,this.frameTime=8,this.frame=0,this.updateCenterPos(),this.lastDir){case"up":t=[this.centerPos[0]-40,this.centerPos[0]+40],n=[this.centerPos[1]-80,this.centerPos[1]+10];break;case"down":t=[this.centerPos[0]-40,this.centerPos[0]+40],n=[this.centerPos[1]-10,this.centerPos[1]+80];break;case"left":n=[this.centerPos[1]-50,this.centerPos[1]+50],t=[this.centerPos[0]-75,this.centerPos[0]+5];break;case"right":n=[this.centerPos[1]-50,this.centerPos[1]+50],t=[this.centerPos[0]-5,this.centerPos[0]+75]}console.log("pos"),console.log(this.position),console.log("center"),console.log(this.centerPos),console.log("atk coords"),console.dir([t,n]),this.game.handleAttack(this,t,n)}dunk(){if(this.dead||this.game.specialMeter<10)return null;let t=new Audio("../src/game/sounds/dunk.mp3");t.volume=1,t.play(),this.game.specialMeter-=10,this.state="dunk",this.offset=[60,87.5],this.frameLength=5,this.frameTime=5,this.frame=0,this.updateCenterPos(),this.movement=[0,0];let n=[this.centerPos[0]-150,this.centerPos[0]+150],e=[this.centerPos[1]-150,this.centerPos[1]+150];this.game.chars.unshift(new m(this.game,this.centerPos)),this.game.handleAttack(this,n,e)}handleMovement(){this.handleReset(),this.movement[0]>0&&(this.movement[0]>=4?(this.position[0]+=4,this.movement[0]-=4):(this.position[0]-=this.movement[0],this.movement[0]=0)),this.movement[0]<0&&(this.movement[0]<=-4?(this.position[0]-=4,this.movement[0]+=4):(this.position[0]+=this.movement[0],this.movement[0]=0)),this.movement[1]>0&&(this.movement[1]>=4?(this.position[1]+=4,this.movement[1]-=4):(this.position[1]-=this.movement[1],this.movement[1]=0)),this.movement[1]<0&&(this.movement[1]<=-4?(this.position[1]-=4,this.movement[1]+=4):(this.position[1]+=this.movement[1],this.movement[1]=0)),this.updateCenterPos(),this.handlePickups()}handlePickups(){this.game.items.forEach(t=>{a(t.centerPos[0],this.centerPos[0]-50,this.centerPos[0]+50)&&a(t.centerPos[1],this.centerPos[1]-50,this.centerPos[1]+50)&&t.collect()})}}class c{constructor(t,n,e){this.game=t,this.position=n,this.centerPos=[n[0]+25,n[1]+25],this.type=e}collect(){switch(this.type){case"health":this.game.player.life<5&&(this.game.player.life+=1);break;case"special":this.game.specialMeter<10&&(this.game.specialMeter=Math.min(10,this.game.specialMeter+2))}this.game.items.splice(this.game.items.indexOf(this),1)}draw(t){var n=new Image;"health"===this.type?n.src="../src/game/animations/powerups/health.png":"special"===this.type&&(n.src="../src/game/animations/powerups/special.png"),i(t,n,this.position[0],this.position[1],50,50,0,!1,!1)}}const l=["left","down","right","up"];class g extends r{constructor(t){super(t,t.randomPosAtEdges()),this.animations={stand:{frames:2,frameData:{up:["../src/game/animations/referee/stand-up-0.png","../src/game/animations/referee/stand-up-1.png"],down:["../src/game/animations/referee/stand-down-0.png","../src/game/animations/referee/stand-down-1.png"]}},move:{frames:6,frameData:{up:["../src/game/animations/referee/walk-up-0.png","../src/game/animations/referee/walk-up-1.png","../src/game/animations/referee/walk-up-2.png","../src/game/animations/referee/walk-up-3.png","../src/game/animations/referee/walk-up-4.png","../src/game/animations/referee/walk-up-5.png"],down:["../src/game/animations/referee/walk-down-0.png","../src/game/animations/referee/walk-down-1.png","../src/game/animations/referee/walk-down-2.png","../src/game/animations/referee/walk-down-3.png","../src/game/animations/referee/walk-down-4.png","../src/game/animations/referee/walk-down-5.png"]}},attack:{frames:2,frameData:{up:["../src/game/animations/referee/attack-0.png","../src/game/animations/referee/attack-1.png"],down:["../src/game/animations/referee/attack-0.png","../src/game/animations/referee/attack-1.png"]}},death:{frames:6,frameData:{up:["../src/game/animations/referee/death-0.png","../src/game/animations/referee/death-1.png","../src/game/animations/referee/death-2.png","../src/game/animations/referee/death-3.png","../src/game/animations/referee/death-4.png","../src/game/animations/referee/death-5.png"],down:["../src/game/animations/referee/death-0.png","../src/game/animations/referee/death-1.png","../src/game/animations/referee/death-2.png","../src/game/animations/referee/death-3.png","../src/game/animations/referee/death-4.png","../src/game/animations/referee/death-5.png"]}}},this.type=1,this.AI()}AI(){if(!this.dead&&!this.game.over){let t=[...l];this.position[0]>this.game.canvas.width/2+200&&(t.push("left"),t.push("left")),this.position[0]<this.game.canvas.width/2-200&&(t.push("right"),t.push("right")),this.position[1]<this.game.canvas.height/2-100&&(t.push("down"),t.push("down")),this.position[1]>this.game.canvas.height/2+100&&(t.push("up"),t.push("up")),this.move(t[Math.floor(Math.random()*t.length)]),!this.dead&&s(this.position,this.game.player.position)<100&&this.attack(),setTimeout(()=>this.AI(),1e3)}}die(){this.dead||(this.state="death",this.dead=!0,this.frame=0,this.frameLength=8,this.frameTime=8,this.game.kills+=1,setTimeout(()=>{Math.random()>.9&&(Math.random()>.75?this.game.items.push(new c(this.game,this.position,"health")):this.game.items.push(new c(this.game,this.position,"special"))),this.game.chars.splice(this.game.chars.indexOf(this),1)},750))}}class p{constructor(t,n){this.game=t,this.ctx=n,this.renderInt,this.ctx.font="25px proxima-nova"}render(){this.ctx.fillStyle="black";let t=new Image;t.src="../src/game/animations/cb-logo.png";let n=new Image;n.onload=()=>{this.ctx.drawImage(n,0,0),this.ctx.drawImage(t,Math.floor(this.game.canvas.width/2-242.5),50,485,237),this.ctx.fillText("The refs are blind! They're trying to hand the Lakers another win!",this.game.canvas.width/2-280,this.game.canvas.height/2+50,600),this.ctx.fillText("It's up to Charles Barkley to help them see the light.",this.game.canvas.width/2-240,this.game.canvas.height/2+80,500),this.ctx.fillText("Controls:",this.game.canvas.width/2-300,this.game.canvas.height/2+130,500),this.ctx.fillText("Movement : ↑↓←→",this.game.canvas.width/2-300,this.game.canvas.height/2+155,500),this.ctx.fillText("Attack : A",this.game.canvas.width/2-300,this.game.canvas.height/2+180,500),this.ctx.fillText("Special : S",this.game.canvas.width/2-300,this.game.canvas.height/2+205,500),this.ctx.fillText("* Shaq will show up to give the refs a hand at 20 kills, then every 30 kills after that.",this.game.canvas.width/2-385,this.game.canvas.height/2+250,1e3),this.ctx.fillText("Press any key to start",this.game.canvas.width/2+100,this.game.canvas.height/2+155,500)},n.src="../src/game/animations/white.jpg",this.ctx.color="black"}start(){this.renderInt=setInterval(()=>this.render(),1e3)}}class u{constructor(t,n){this.game=t,this.ctx=n,this.ctx.font="25px proxima nova"}render(){let t=new Image;t.src="../src/game/animations/gameover.png";let n=new Image;n.onload=()=>{this.ctx.drawImage(n,0,0),this.ctx.drawImage(t,this.game.canvas.width/2-265,this.game.canvas.height/2-144.5-150),this.ctx.fillStyle="#ffffff",this.ctx.fillText(`You only put down ${this.game.kills} referee${1!==this.game.kills?"s":""}, and beat Shaq ${this.game.bossKills} time${1!==this.game.bossKills?"s":""}!`,this.game.canvas.width/2-270,this.game.canvas.height/2,1e3),this.ctx.fillText("That's why you don't have any rings, Chuck.",this.game.canvas.width/2-270,this.game.canvas.height/2+50,500),this.ctx.fillText("Press a key to play again.",this.game.canvas.width/2-270,this.game.canvas.height/2+100,500),setTimeout(()=>document.addEventListener("keydown",()=>location.reload()),500)},n.src="../src/game/animations/black.png"}}const f=["left","down","right","up"];class d extends g{constructor(t){super(t),this.animations={stand:{frames:14,frameData:{up:["../src/game/animations/shaq/stand/stand_0-0.png","../src/game/animations/shaq/stand/stand_0-1.png","../src/game/animations/shaq/stand/stand_0-2.png","../src/game/animations/shaq/stand/stand_0-3.png","../src/game/animations/shaq/stand/stand_0-4.png","../src/game/animations/shaq/stand/stand_0-5.png","../src/game/animations/shaq/stand/stand_0-6.png","../src/game/animations/shaq/stand/stand_0-7.png","../src/game/animations/shaq/stand/stand_0-8.png","../src/game/animations/shaq/stand/stand_0-9.png","../src/game/animations/shaq/stand/stand_0-10.png","../src/game/animations/shaq/stand/stand_0-11.png","../src/game/animations/shaq/stand/stand_0-12.png","../src/game/animations/shaq/stand/stand_0-13.png"],down:["../src/game/animations/shaq/stand/stand_0-0.png","../src/game/animations/shaq/stand/stand_0-1.png","../src/game/animations/shaq/stand/stand_0-2.png","../src/game/animations/shaq/stand/stand_0-3.png","../src/game/animations/shaq/stand/stand_0-4.png","../src/game/animations/shaq/stand/stand_0-5.png","../src/game/animations/shaq/stand/stand_0-6.png","../src/game/animations/shaq/stand/stand_0-7.png","../src/game/animations/shaq/stand/stand_0-8.png","../src/game/animations/shaq/stand/stand_0-9.png","../src/game/animations/shaq/stand/stand_0-10.png","../src/game/animations/shaq/stand/stand_0-11.png","../src/game/animations/shaq/stand/stand_0-12.png","../src/game/animations/shaq/stand/stand_0-13.png"]}},move:{frames:23,frameData:{up:["../src/game/animations/shaq/run/run_100-0.png","../src/game/animations/shaq/run/run_100-1.png","../src/game/animations/shaq/run/run_100-2.png","../src/game/animations/shaq/run/run_100-3.png","../src/game/animations/shaq/run/run_100-4.png","../src/game/animations/shaq/run/run_100-5.png","../src/game/animations/shaq/run/run_100-6.png","../src/game/animations/shaq/run/run_100-7.png","../src/game/animations/shaq/run/run_100-8.png","../src/game/animations/shaq/run/run_100-9.png","../src/game/animations/shaq/run/run_100-10.png","../src/game/animations/shaq/run/run_100-11.png","../src/game/animations/shaq/run/run_100-12.png","../src/game/animations/shaq/run/run_100-13.png","../src/game/animations/shaq/run/run_100-14.png","../src/game/animations/shaq/run/run_100-15.png","../src/game/animations/shaq/run/run_100-16.png","../src/game/animations/shaq/run/run_100-17.png","../src/game/animations/shaq/run/run_100-18.png","../src/game/animations/shaq/run/run_100-19.png","../src/game/animations/shaq/run/run_100-20.png","../src/game/animations/shaq/run/run_100-21.png","../src/game/animations/shaq/run/run_100-22.png"],down:["../src/game/animations/shaq/run/run_100-0.png","../src/game/animations/shaq/run/run_100-1.png","../src/game/animations/shaq/run/run_100-2.png","../src/game/animations/shaq/run/run_100-3.png","../src/game/animations/shaq/run/run_100-4.png","../src/game/animations/shaq/run/run_100-5.png","../src/game/animations/shaq/run/run_100-6.png","../src/game/animations/shaq/run/run_100-7.png","../src/game/animations/shaq/run/run_100-8.png","../src/game/animations/shaq/run/run_100-9.png","../src/game/animations/shaq/run/run_100-10.png","../src/game/animations/shaq/run/run_100-11.png","../src/game/animations/shaq/run/run_100-12.png","../src/game/animations/shaq/run/run_100-13.png","../src/game/animations/shaq/run/run_100-14.png","../src/game/animations/shaq/run/run_100-15.png","../src/game/animations/shaq/run/run_100-16.png","../src/game/animations/shaq/run/run_100-17.png","../src/game/animations/shaq/run/run_100-18.png","../src/game/animations/shaq/run/run_100-19.png","../src/game/animations/shaq/run/run_100-20.png","../src/game/animations/shaq/run/run_100-21.png","../src/game/animations/shaq/run/run_100-22.png"]}},attack:{frames:19,frameData:{up:["../src/game/animations/shaq/kick/kick_1000-0.png","../src/game/animations/shaq/kick/kick_1000-1.png","../src/game/animations/shaq/kick/kick_1000-2.png","../src/game/animations/shaq/kick/kick_1000-3.png","../src/game/animations/shaq/kick/kick_1000-4.png","../src/game/animations/shaq/kick/kick_1000-5.png","../src/game/animations/shaq/kick/kick_1000-6.png","../src/game/animations/shaq/kick/kick_1000-7.png","../src/game/animations/shaq/kick/kick_1000-8.png","../src/game/animations/shaq/kick/kick_1000-9.png","../src/game/animations/shaq/kick/kick_1000-10.png","../src/game/animations/shaq/kick/kick_1000-11.png","../src/game/animations/shaq/kick/kick_1000-12.png","../src/game/animations/shaq/kick/kick_1000-13.png","../src/game/animations/shaq/kick/kick_1000-14.png","../src/game/animations/shaq/kick/kick_1000-15.png","../src/game/animations/shaq/kick/kick_1000-16.png","../src/game/animations/shaq/kick/kick_1000-17.png","../src/game/animations/shaq/kick/kick_1000-18.png"],down:["../src/game/animations/shaq/kick/kick_1000-0.png","../src/game/animations/shaq/kick/kick_1000-1.png","../src/game/animations/shaq/kick/kick_1000-2.png","../src/game/animations/shaq/kick/kick_1000-3.png","../src/game/animations/shaq/kick/kick_1000-4.png","../src/game/animations/shaq/kick/kick_1000-5.png","../src/game/animations/shaq/kick/kick_1000-6.png","../src/game/animations/shaq/kick/kick_1000-7.png","../src/game/animations/shaq/kick/kick_1000-8.png","../src/game/animations/shaq/kick/kick_1000-9.png","../src/game/animations/shaq/kick/kick_1000-10.png","../src/game/animations/shaq/kick/kick_1000-11.png","../src/game/animations/shaq/kick/kick_1000-12.png","../src/game/animations/shaq/kick/kick_1000-13.png","../src/game/animations/shaq/kick/kick_1000-14.png","../src/game/animations/shaq/kick/kick_1000-15.png","../src/game/animations/shaq/kick/kick_1000-16.png","../src/game/animations/shaq/kick/kick_1000-17.png","../src/game/animations/shaq/kick/kick_1000-18.png"]}},death:{frames:7,frameData:{up:["../src/game/animations/shaq/death/death_170-0.png","../src/game/animations/shaq/death/death_170-1.png","../src/game/animations/shaq/death/death_170-2.png","../src/game/animations/shaq/death/death_170-3.png","../src/game/animations/shaq/death/death_170-4.png","../src/game/animations/shaq/death/death_170-5.png","../src/game/animations/shaq/death/death_170-6.png"],down:["../src/game/animations/shaq/death/death_170-0.png","../src/game/animations/shaq/death/death_170-1.png","../src/game/animations/shaq/death/death_170-2.png","../src/game/animations/shaq/death/death_170-3.png","../src/game/animations/shaq/death/death_170-4.png","../src/game/animations/shaq/death/death_170-5.png","../src/game/animations/shaq/death/death_170-6.png"]}}},this.life=6,this.type=1,this.offset=[30,70],this.centerPos=[this.position[0]+this.offset[0],this.position[1]+this.offset[1]]}draw(t){var n=new Image,e=this.position,a=this.lastDirLR;n.src=this.animations[this.state].frameData[this.lastDirUD][this.frame],i(t,n,e[0],e[1],2*n.width,2*n.height,0,"left"===a,!1),t.fillStyle="rgb(0, 255, 0)",e[1]-20>=0&&t.fillRect(e[0],e[1]-20,this.life/6*60,10)}resetAnimation(){this.state="stand",this.frame=0,this.frameLength=4}AI(){if(!this.dead){let t=[...f];this.position[0]>this.game.canvas.width/2+200&&(t.push("left"),t.push("left")),this.position[0]<this.game.canvas.width/2-200&&(t.push("right"),t.push("right")),this.position[1]<this.game.canvas.height/2-100&&(t.push("down"),t.push("down")),this.position[1]>this.game.canvas.height/2+100&&(t.push("up"),t.push("up")),this.move(t[Math.floor(Math.random()*t.length)]),!this.dead&&s(this.position,this.game.player.position)<150&&this.attack(),setTimeout(()=>this.AI(),1e3)}}move(t){this.state="move",this.frameLength=2,this.updateCenterPos(),"up"===t?(this.position[1]-50<0?this.movement[1]=this.position[1]:this.movement[1]-=50,this.lastDirUD="up",this.lastDir="up"):"down"===t?(this.position[1]+50>this.game.dimensions.height?this.movement[1]=this.game.dimensions.height-this.position[1]:this.movement[1]+=50,this.lastDirUD="down",this.lastDir="down"):"left"===t?(this.position[0]-50<0?this.movement[0]=this.position[0]:this.movement[0]-=50,this.lastDirLR="left",this.lastDir="left"):"right"===t&&(this.position[0]+50>this.game.dimensions.width?this.movement[0]=this.game.dimensions.width-this.position[0]:this.movement[0]+=50,this.lastDirLR="right",this.lastDir="right")}attack(){if(this.dead)return null;let t,n;this.state="attack",this.frameLength=2,this.frameTime=2,this.frame=0,this.updateCenterPos(),"left"===this.lastDirLR?(t=[this.centerPos[0]-100,this.centerPos[0]+10],n=[this.centerPos[1]-40,this.centerPos[1]+40]):"right"===this.lastDirLR&&(t=[this.centerPos[0]-10,this.centerPos[0]+100],n=[this.centerPos[1]-40,this.centerPos[1]+40]),this.game.handleAttack(this,t,n)}die(){this.dead||(this.life-=1,this.life<=0&&(this.state="death",this.dead=!0,this.frame=0,this.frameLength=6,this.frameTime=6,this.game.kills+=1,setTimeout(()=>{Math.random()>.5?(this.game.items.push(new c(this.game,this.position,"health")),this.game.items.push(new c(this.game,this.position,"health")),this.game.items.push(new c(this.game,this.position,"health")),this.game.items.push(new c(this.game,this.position,"health")),this.game.items.push(new c(this.game,this.position,"health"))):(this.game.items.push(new c(this.game,this.position,"special")),this.game.items.push(new c(this.game,this.position,"special")),this.game.items.push(new c(this.game,this.position,"special")),this.game.items.push(new c(this.game,this.position,"special")),this.game.items.push(new c(this.game,this.position,"special"))),this.game.bossKills+=1,this.game.chars.splice(this.game.chars.indexOf(this),1)},750),this.game.factory()))}}var v=e(0),k=e.n(v);const y=document.getElementById("game-canvas");window.Player=h,window.Enemy=g,window.Character=r;const w=k.a.throttle(()=>_.player.attack(),500,{trailing:!1}),x=k.a.throttle(()=>_.player.dunk(),1e3,{trailing:!1}),b=()=>{_.start(),clearInterval(_.menu.renderInt),_.menu=null,document.removeEventListener("keydown",b),document.removeEventListener("click",b),document.addEventListener("keydown",t=>{if(_.player.dead)return null;"ArrowLeft"===t.code&&_.player.move("left"),"ArrowDown"===t.code&&_.player.move("down"),"ArrowRight"===t.code&&_.player.move("right"),"ArrowUp"===t.code&&_.player.move("up"),"KeyA"===t.code&&w(),"KeyS"===t.code&&x()}),q()};let _=new class{constructor(t){this.chars=[],this.player=new h(this),this.canvas=t,this.dimensions={width:t.width-100,height:t.height-100},this.ctx=t.getContext("2d"),this.chars.push(this.player),this.player.draw(this.ctx),this.interval,this.kills=0,this.baseEnemies=1,this.specialMeter=5,this.over=!1,this.menu=new p(this,this.ctx),this.scoreboard=new Image,this.scoreboard.src="../src/game/animations/scoreboard-new.png",this.items=[],this.bosses=0,this.bossKills=0}factory(){if(this.createEnemy(),this.kills>5&&this.createEnemy(),this.kills>10&&this.createEnemy(),this.kills>20&&this.createEnemy(),this.kills>30&&this.createEnemy(),this.kills>50&&(this.createEnemy(),this.createEnemy()),this.kills>20+30*this.bosses)return this.bosses+=1,void this.chars.push(new d(this));this.player.dead||setTimeout(()=>this.factory(),Math.max(Math.floor(Math.random()*(5e3-50*this.kills)),500))}randomPosAtEdges(){let t=Math.floor(Math.random()*this.dimensions.width),n=Math.floor(Math.random()*this.dimensions.height);return[[0,n],[t,0],[this.dimensions.width,n],[t,this.dimensions.height]][Math.floor(4*Math.random())]}createEnemy(){let t=new g(this);this.chars.push(t)}handleAttack(t,n,e){if(t.dead||!t)return null;for(var i of this.chars)if(i.type!==t.type&&a(i.centerPos[0],n[0],n[1])&&a(i.centerPos[1],e[0],e[1])){i instanceof g&&this.specialMeter<10&&(this.specialMeter+=1),i.dead||i.die();let n=new Audio;switch(t.type){case 0:n.src="../src/game/sounds/punch.mp3",n.volume=.7;break;case 1:n.src="../src/game/sounds/punch1.mp3",n.volume=.5}n.play()}}draw(){for(let t of this.chars)t.draw(this.ctx);for(let t of this.items)t.draw(this.ctx);this.ctx.drawImage(this.scoreboard,this.canvas.width-199,this.canvas.height-103),this.ctx.fillStyle="#ffffff",this.ctx.font="32px verdana, sans-serif",this.ctx.fillText(this.kills,this.canvas.width-199+116,this.canvas.height-103+36),this.ctx.fillRect(this.canvas.width-191,this.canvas.height-33,this.specialMeter/10*182,30),this.player.life>2?this.ctx.fillStyle="rgb(0, 255, 0)":2===this.player.life?this.ctx.fillStyle="rgb(255, 255, 0)":this.ctx.fillStyle="rgb(255, 0, 0)",this.ctx.fillRect(this.canvas.width-191,this.canvas.height-53,this.player.life/5*182,16),this.ctx.fillStyle="#222222",this.ctx.font="16px verdana, sans-serif",this.ctx.fillText("LIFE",this.canvas.width-186,this.canvas.height-39,150),this.ctx.fillText(`SPECIAL${10===this.specialMeter?": PRESS S":""}`,this.canvas.width-186,this.canvas.height-12,150)}animate(){for(var t of this.chars)t.frameTime>t.frameLength&&(t.frameTime=t.frameLength),t.frameTime>0?t.frameTime-=1:(t.frameTime=t.frameLength,t.frame+1>=t.animations[t.state].frames?(t.state,t.resetAnimation(),t.frame=0):t.frame+=1),t.handleMovement()}start(){this.ctx.font="32px verdana, sans-serif",this.createEnemy(),this.createEnemy(),this.createEnemy(),this.createEnemy(),this.createEnemy(),this.factory()}gameOver(){clearInterval(this.interval),this.over=!0,setTimeout(()=>{new u(this,this.ctx).render()},250)}}(y);window.addEventListener("load",()=>{_.menu.start()},!1),setTimeout(()=>document.addEventListener("keydown",b),1e3),setTimeout(()=>document.addEventListener("click",b),1e3),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,66)};const q=()=>{_.animate(),_.ctx.clearRect(0,0,_.canvas.width,_.canvas.height),_.draw(),!0!==_.over&&requestAnimFrame((function(){q()}))}}]);