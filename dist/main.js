!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){(function(t,n){var i;!function(){var a="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},r=a._,s=Array.prototype,o=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=s.push,m=s.slice,h=o.toString,u=o.hasOwnProperty,p=Array.isArray,g=Object.keys,f=Object.create,d=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};e.nodeType?a._=v:(!n.nodeType&&n.exports&&(e=n.exports=v),e._=v),v.VERSION="1.9.2";var y,k=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,a){return t.call(e,n,i,a)};case 4:return function(n,i,a,r){return t.call(e,n,i,a,r)}}return function(){return t.apply(e,arguments)}},x=function(t,e,n){return v.iteratee!==y?v.iteratee(t,e):null==t?v.identity:v.isFunction(t)?k(t,e,n):v.isObject(t)&&!v.isArray(t)?v.matcher(t):v.property(t)};v.iteratee=y=function(t,e){return x(t,e,1/0)};var w=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),a=0;a<n;a++)i[a]=arguments[a+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var r=Array(e+1);for(a=0;a<e;a++)r[a]=arguments[a];return r[e]=i,t.apply(this,r)}},b=function(t){if(!v.isObject(t))return{};if(f)return f(t);d.prototype=t;var e=new d;return d.prototype=null,e},P=function(t){return function(e){return null==e?void 0:e[t]}},D=function(t,e){return null!=t&&u.call(t,e)},A=function(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0},j=Math.pow(2,53)-1,_=P("length"),M=function(t){var e=_(t);return"number"==typeof e&&e>=0&&e<=j};v.each=v.forEach=function(t,e,n){var i,a;if(e=k(e,n),M(t))for(i=0,a=t.length;i<a;i++)e(t[i],i,t);else{var r=v.keys(t);for(i=0,a=r.length;i<a;i++)e(t[r[i]],r[i],t)}return t},v.map=v.collect=function(t,e,n){e=x(e,n);for(var i=!M(t)&&v.keys(t),a=(i||t).length,r=Array(a),s=0;s<a;s++){var o=i?i[s]:s;r[s]=e(t[o],o,t)}return r};var O=function(t){var e=function(e,n,i,a){var r=!M(e)&&v.keys(e),s=(r||e).length,o=t>0?0:s-1;for(a||(i=e[r?r[o]:o],o+=t);o>=0&&o<s;o+=t){var l=r?r[o]:o;i=n(i,e[l],l,e)}return i};return function(t,n,i,a){var r=arguments.length>=3;return e(t,k(n,a,4),i,r)}};v.reduce=v.foldl=v.inject=O(1),v.reduceRight=v.foldr=O(-1),v.find=v.detect=function(t,e,n){var i=(M(t)?v.findIndex:v.findKey)(t,e,n);if(void 0!==i&&-1!==i)return t[i]},v.filter=v.select=function(t,e,n){var i=[];return e=x(e,n),v.each(t,(function(t,n,a){e(t,n,a)&&i.push(t)})),i},v.reject=function(t,e,n){return v.filter(t,v.negate(x(e)),n)},v.every=v.all=function(t,e,n){e=x(e,n);for(var i=!M(t)&&v.keys(t),a=(i||t).length,r=0;r<a;r++){var s=i?i[r]:r;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,n){e=x(e,n);for(var i=!M(t)&&v.keys(t),a=(i||t).length,r=0;r<a;r++){var s=i?i[r]:r;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,n,i){return M(t)||(t=v.values(t)),("number"!=typeof n||i)&&(n=0),v.indexOf(t,e,n)>=0},v.invoke=w((function(t,e,n){var i,a;return v.isFunction(e)?a=e:v.isArray(e)&&(i=e.slice(0,-1),e=e[e.length-1]),v.map(t,(function(t){var r=a;if(!r){if(i&&i.length&&(t=A(t,i)),null==t)return;r=t[e]}return null==r?r:r.apply(t,n)}))})),v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,n){var i,a,r=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var o=0,l=(t=M(t)?t:v.values(t)).length;o<l;o++)null!=(i=t[o])&&i>r&&(r=i);else e=x(e,n),v.each(t,(function(t,n,i){((a=e(t,n,i))>s||a===-1/0&&r===-1/0)&&(r=t,s=a)}));return r},v.min=function(t,e,n){var i,a,r=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var o=0,l=(t=M(t)?t:v.values(t)).length;o<l;o++)null!=(i=t[o])&&i<r&&(r=i);else e=x(e,n),v.each(t,(function(t,n,i){((a=e(t,n,i))<s||a===1/0&&r===1/0)&&(r=t,s=a)}));return r},v.shuffle=function(t){return v.sample(t,1/0)},v.sample=function(t,e,n){if(null==e||n)return M(t)||(t=v.values(t)),t[v.random(t.length-1)];var i=M(t)?v.clone(t):v.values(t),a=_(i);e=Math.max(Math.min(e,a),0);for(var r=a-1,s=0;s<e;s++){var o=v.random(s,r),l=i[s];i[s]=i[o],i[o]=l}return i.slice(0,e)},v.sortBy=function(t,e,n){var i=0;return e=x(e,n),v.pluck(v.map(t,(function(t,n,a){return{value:t,index:i++,criteria:e(t,n,a)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index})),"value")};var T=function(t,e){return function(n,i,a){var r=e?[[],[]]:{};return i=x(i,a),v.each(n,(function(e,a){var s=i(e,a,n);t(r,e,s)})),r}};v.groupBy=T((function(t,e,n){D(t,n)?t[n].push(e):t[n]=[e]})),v.indexBy=T((function(t,e,n){t[n]=e})),v.countBy=T((function(t,e,n){D(t,n)?t[n]++:t[n]=1}));var S=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(t){return t?v.isArray(t)?m.call(t):v.isString(t)?t.match(S):M(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:M(t)?t.length:v.keys(t).length},v.partition=T((function(t,e,n){t[n?0:1].push(e)}),!0),v.first=v.head=v.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,n){return m.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},v.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,n){return m.call(t,null==e||n?1:e)},v.compact=function(t){return v.filter(t,Boolean)};var I=function(t,e,n,i){for(var a=(i=i||[]).length,r=0,s=_(t);r<s;r++){var o=t[r];if(M(o)&&(v.isArray(o)||v.isArguments(o)))if(e)for(var l=0,c=o.length;l<c;)i[a++]=o[l++];else I(o,e,n,i),a=i.length;else n||(i[a++]=o)}return i};v.flatten=function(t,e){return I(t,e,!1)},v.without=w((function(t,e){return v.difference(t,e)})),v.uniq=v.unique=function(t,e,n,i){v.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=x(n,i));for(var a=[],r=[],s=0,o=_(t);s<o;s++){var l=t[s],c=n?n(l,s,t):l;e&&!n?(s&&r===c||a.push(l),r=c):n?v.contains(r,c)||(r.push(c),a.push(l)):v.contains(a,l)||a.push(l)}return a},v.union=w((function(t){return v.uniq(I(t,!0,!0))})),v.intersection=function(t){for(var e=[],n=arguments.length,i=0,a=_(t);i<a;i++){var r=t[i];if(!v.contains(e,r)){var s;for(s=1;s<n&&v.contains(arguments[s],r);s++);s===n&&e.push(r)}}return e},v.difference=w((function(t,e){return e=I(e,!0,!0),v.filter(t,(function(t){return!v.contains(e,t)}))})),v.unzip=function(t){for(var e=t&&v.max(t,_).length||0,n=Array(e),i=0;i<e;i++)n[i]=v.pluck(t,i);return n},v.zip=w(v.unzip),v.object=function(t,e){for(var n={},i=0,a=_(t);i<a;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n};var L=function(t){return function(e,n,i){n=x(n,i);for(var a=_(e),r=t>0?0:a-1;r>=0&&r<a;r+=t)if(n(e[r],r,e))return r;return-1}};v.findIndex=L(1),v.findLastIndex=L(-1),v.sortedIndex=function(t,e,n,i){for(var a=(n=x(n,i,1))(e),r=0,s=_(t);r<s;){var o=Math.floor((r+s)/2);n(t[o])<a?r=o+1:s=o}return r};var E=function(t,e,n){return function(i,a,r){var s=0,o=_(i);if("number"==typeof r)t>0?s=r>=0?r:Math.max(r+o,s):o=r>=0?Math.min(r+1,o):r+o+1;else if(n&&r&&o)return i[r=n(i,a)]===a?r:-1;if(a!=a)return(r=e(m.call(i,s,o),v.isNaN))>=0?r+s:-1;for(r=t>0?s:o-1;r>=0&&r<o;r+=t)if(i[r]===a)return r;return-1}};v.indexOf=E(1,v.findIndex,v.sortedIndex),v.lastIndexOf=E(-1,v.findLastIndex),v.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),a=Array(i),r=0;r<i;r++,t+=n)a[r]=t;return a},v.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],i=0,a=t.length;i<a;)n.push(m.call(t,i,i+=e));return n};var F=function(t,e,n,i,a){if(!(i instanceof e))return t.apply(n,a);var r=b(t.prototype),s=t.apply(r,a);return v.isObject(s)?s:r};v.bind=w((function(t,e,n){if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var i=w((function(a){return F(t,i,e,this,n.concat(a))}));return i})),v.partial=w((function(t,e){var n=v.partial.placeholder,i=function(){for(var a=0,r=e.length,s=Array(r),o=0;o<r;o++)s[o]=e[o]===n?arguments[a++]:e[o];for(;a<arguments.length;)s.push(arguments[a++]);return F(t,i,this,this,s)};return i})),v.partial.placeholder=v,v.bindAll=w((function(t,e){var n=(e=I(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=v.bind(t[i],t)}})),v.memoize=function(t,e){var n=function(i){var a=n.cache,r=""+(e?e.apply(this,arguments):i);return D(a,r)||(a[r]=t.apply(this,arguments)),a[r]};return n.cache={},n},v.delay=w((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,n){var i,a,r,s,o=0;n||(n={});var l=function(){o=!1===n.leading?0:v.now(),i=null,s=t.apply(a,r),i||(a=r=null)},c=function(){var c=v.now();o||!1!==n.leading||(o=c);var m=e-(c-o);return a=this,r=arguments,m<=0||m>e?(i&&(clearTimeout(i),i=null),o=c,s=t.apply(a,r),i||(a=r=null)):i||!1===n.trailing||(i=setTimeout(l,m)),s};return c.cancel=function(){clearTimeout(i),o=0,i=a=r=null},c},v.debounce=function(t,e,n){var i,a,r=function(e,n){i=null,n&&(a=t.apply(e,n))},s=w((function(s){if(i&&clearTimeout(i),n){var o=!i;i=setTimeout(r,e),o&&(a=t.apply(this,s))}else i=v.delay(r,e,this,s);return a}));return s.cancel=function(){clearTimeout(i),i=null},s},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},v.once=v.partial(v.before,2),v.restArguments=w;var R=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],q=function(t,e){var n=N.length,i=t.constructor,a=v.isFunction(i)&&i.prototype||o,r="constructor";for(D(t,r)&&!v.contains(e,r)&&e.push(r);n--;)(r=N[n])in t&&t[r]!==a[r]&&!v.contains(e,r)&&e.push(r)};v.keys=function(t){if(!v.isObject(t))return[];if(g)return g(t);var e=[];for(var n in t)D(t,n)&&e.push(n);return R&&q(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var n in t)e.push(n);return R&&q(t,e),e},v.values=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),a=0;a<n;a++)i[a]=t[e[a]];return i},v.mapObject=function(t,e,n){e=x(e,n);for(var i=v.keys(t),a=i.length,r={},s=0;s<a;s++){var o=i[s];r[o]=e(t[o],o,t)}return r},v.pairs=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),a=0;a<n;a++)i[a]=[e[a],t[e[a]]];return i},v.invert=function(t){for(var e={},n=v.keys(t),i=0,a=n.length;i<a;i++)e[t[n[i]]]=n[i];return e},v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()};var C=function(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var a=1;a<i;a++)for(var r=arguments[a],s=t(r),o=s.length,l=0;l<o;l++){var c=s[l];e&&void 0!==n[c]||(n[c]=r[c])}return n}};v.extend=C(v.allKeys),v.extendOwn=v.assign=C(v.keys),v.findKey=function(t,e,n){e=x(e,n);for(var i,a=v.keys(t),r=0,s=a.length;r<s;r++)if(e(t[i=a[r]],i,t))return i};var U,B,K=function(t,e,n){return e in n};v.pick=w((function(t,e){var n={},i=e[0];if(null==t)return n;v.isFunction(i)?(e.length>1&&(i=k(i,e[1])),e=v.allKeys(t)):(i=K,e=I(e,!1,!1),t=Object(t));for(var a=0,r=e.length;a<r;a++){var s=e[a],o=t[s];i(o,s,t)&&(n[s]=o)}return n})),v.omit=w((function(t,e){var n,i=e[0];return v.isFunction(i)?(i=v.negate(i),e.length>1&&(n=e[1])):(e=v.map(I(e,!1,!1),String),i=function(t,n){return!v.contains(e,n)}),v.pick(t,i,n)})),v.defaults=C(v.allKeys,!0),v.create=function(t,e){var n=b(t);return e&&v.extendOwn(n,e),n},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var n=v.keys(e),i=n.length;if(null==t)return!i;for(var a=Object(t),r=0;r<i;r++){var s=n[r];if(e[s]!==a[s]||!(s in a))return!1}return!0},U=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var a=typeof t;return("function"===a||"object"===a||"object"==typeof e)&&B(t,e,n,i)},B=function(t,e,n,i){t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var a=h.call(t);if(a!==h.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return l.valueOf.call(t)===l.valueOf.call(e)}var r="[object Array]"===a;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,o=e.constructor;if(s!==o&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(o)&&o instanceof o)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),r){if((c=t.length)!==e.length)return!1;for(;c--;)if(!U(t[c],e[c],n,i))return!1}else{var m,u=v.keys(t);if(c=u.length,v.keys(e).length!==c)return!1;for(;c--;)if(m=u[c],!D(e,m)||!U(t[m],e[m],n,i))return!1}return n.pop(),i.pop(),!0},v.isEqual=function(t,e){return U(t,e)},v.isEmpty=function(t){return null==t||(M(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=p||function(t){return"[object Array]"===h.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(t){v["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}})),v.isArguments(arguments)||(v.isArguments=function(t){return D(t,"callee")});var z=a.document&&a.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof z&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return!v.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&isNaN(t)},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){if(!v.isArray(e))return D(t,e);for(var n=e.length,i=0;i<n;i++){var a=e[i];if(null==t||!u.call(t,a))return!1;t=t[a]}return!!n},v.noConflict=function(){return a._=r,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=function(t){return v.isArray(t)?function(e){return A(e,t)}:P(t)},v.propertyOf=function(t){return null==t?function(){}:function(e){return v.isArray(e)?A(t,e):t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,n){var i=Array(Math.max(0,t));e=k(e,n,1);for(var a=0;a<t;a++)i[a]=e(a);return i},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=v.invert(W),$=function(t){var e=function(e){return t[e]},n="(?:"+v.keys(t).join("|")+")",i=RegExp(n),a=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(a,e):t}};v.escape=$(W),v.unescape=$(H),v.result=function(t,e,n){v.isArray(e)||(e=[e]);var i=e.length;if(!i)return v.isFunction(n)?n.call(t):n;for(var a=0;a<i;a++){var r=null==t?void 0:t[e[a]];void 0===r&&(r=n,a=i),t=v.isFunction(r)?r.call(t):r}return t};var G=0;v.uniqueId=function(t){var e=++G+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(t){return"\\"+V[t]};v.template=function(t,e,n){!e&&n&&(e=n),e=v.defaults({},e,v.templateSettings);var i,a=RegExp([(e.escape||J).source,(e.interpolate||J).source,(e.evaluate||J).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(a,(function(e,n,i,a,o){return s+=t.slice(r,o).replace(Y,Q),r=o+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),e})),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var o=function(t){return i.call(this,t,v)},l=e.variable||"obj";return o.source="function("+l+"){\n"+s+"}",o},v.chain=function(t){var e=v(t);return e._chain=!0,e};var X=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){return v.each(v.functions(t),(function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),X(this,n.apply(v,t))}})),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=s[t];v.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],X(this,n)}})),v.each(["concat","join","slice"],(function(t){var e=s[t];v.prototype[t]=function(){return X(this,e.apply(this._wrapped,arguments))}})),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},void 0===(i=function(){return v}.apply(e,[]))||(n.exports=i)}()}).call(this,n(1),n(2)(t))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e);const i=(t,e,n,i,a,r,s,o,l,c)=>{let m,h;t.save(),void 0===a&&(a=e.width),void 0===r&&(r=e.height),void 0===c&&(c=!1),c&&(n-=a/2,i-=r/2),t.translate(n+a/2,i+r/2);var u=2*Math.PI-s*Math.PI/180;t.rotate(u),m=o?-1:1,h=l?-1:1,t.scale(m,h),t.drawImage(e,-a/2,-r/2,a,r),t.restore()},a=(t,e,n)=>{let i=Math.min(e,n),a=Math.max(e,n);return t>i&&t<a};class r{constructor(t,e=[0,0]){this.position=e,this.movement=[0,0],this.maxHealth=100,this.currentHealth=100,this.game=t,this.upgrades=[],this.state,this.lastDir="up",this.lastDirLR="left",this.lastDirUD="up",this.frame,this.frameLength,this.frameTime=this.frameLength,this.offset=[42,37.5],this.centerPos=[this.position[0]+this.offset[0],this.position[1]+this.offset[1]],this.resetAnimation()}resetAnimation(){this.state="stand",this.frame=0,this.frameLength=80}updateCenterPos(){this.centerPos=[this.position[0]+this.offset[0],this.position[1]+this.offset[1]]}handleReset(){0===this.movement[0]&&0===this.movement[1]&&"move"===this.state&&this.resetAnimation()}handleMovement(){this.handleReset(),this.movement[0]>0&&(this.movement[0]>=4?(this.position[0]+=4,this.movement[0]-=4):(this.position[0]-=this.movement[0],this.movement[0]=0)),this.movement[0]<0&&(this.movement[0]<=-4?(this.position[0]-=4,this.movement[0]+=4):(this.position[0]+=this.movement[0],this.movement[0]=0)),this.movement[1]>0&&(this.movement[1]>=4?(this.position[1]+=4,this.movement[1]-=4):(this.position[1]-=this.movement[1],this.movement[1]=0)),this.movement[1]<0&&(this.movement[1]<=-4?(this.position[1]-=4,this.movement[1]+=4):(this.position[1]+=this.movement[1],this.movement[1]=0)),this.updateCenterPos()}draw(t){var e=new Image,n=this.position,a=this.lastDirLR;e.src=this.animations[this.state].frameData[this.lastDirUD][this.frame],i(t,e,n[0],n[1],84,75,0,"left"===a,!1)}move(t){this.state="move",this.frameLength=8,this.updateCenterPos(),"up"===t?(this.position[1]-20<0?this.movement[1]=this.position[1]:this.movement[1]-=20,this.lastDirUD="up",this.lastDir="up"):"down"===t?(this.position[1]+20>this.game.dimensions.height?this.movement[1]=this.game.dimensions.height-this.position[1]:this.movement[1]+=20,this.lastDirUD="down",this.lastDir="down"):"left"===t?(this.position[0]-20<0?this.movement[0]=this.position[0]:this.movement[0]-=20,this.lastDirLR="left",this.lastDir="left"):"right"===t&&(this.position[0]+20>this.game.dimensions.width?this.movement[0]=this.game.dimensions.width-this.position[0]:this.movement[0]+=20,this.lastDirLR="right",this.lastDir="right")}attack(){if("death"===this.state)return null;let t,e;this.state="attack",this.frameLength=8,this.frameTime=8,this.frame=0,this.updateCenterPos(),"up"===this.lastDir?(t=[this.centerPos[0]-25,this.centerPos[0]+25],e=[this.centerPos[1]-40,this.centerPos[1]+5]):"down"===this.lastDir?(t=[this.centerPos[0]-25,this.centerPos[0]+25],e=[this.centerPos[1]-5,this.centerPos[1]+40]):"left"===this.lastDir?(e=[this.centerPos[1]-25,this.centerPos[1]+25],t=[this.centerPos[0]-30,this.centerPos[0]+5]):"right"===this.lastDir&&(e=[this.centerPos[1]-25,this.centerPos[1]+25],t=[this.centerPos[0]-5,this.centerPos[0]+30]),this.game.handleAttack(this,t,e)}die(){"death"!==this.state&&(this.state="death",this.frame=0,this.frameLength=8,this.frameTime=8,setTimeout(()=>this.game.chars.splice(this.game.chars.indexOf(this),1),1e3))}}class s extends r{constructor(t,e){super(t,[e[0]-42,e[1]-37.5]),this.state="stand",this.animations={stand:{frames:1,frameData:{up:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"],down:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"]}},death:{frames:16,frameData:{up:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"],down:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"]}}},this.frame=0,this.frameLength=100,this.frameTime=100,this.die()}die(){"death"!==this.state&&(this.state="death",this.frame=0,this.frameLength=3,this.frameTime=3,setTimeout(()=>this.game.chars.splice(this.game.chars.indexOf(this),1),1e3))}}class o extends s{constructor(t,e){super(t,[e[0]-100,e[1]-100])}draw(t){var e=new Image,n=this.position;this.lastDirLR;e.src=this.animations[this.state].frameData[this.lastDirUD][this.frame],i(t,e,n[0],n[1],250,250,0,!1,!1)}}class l extends r{constructor(t){super(t,[600,300]),this.animations={stand:{frames:5,frameData:{up:["../src/game/animations/barkley/stand-up-0.png","../src/game/animations/barkley/stand-up-1.png","../src/game/animations/barkley/stand-up-2.png","../src/game/animations/barkley/stand-up-3.png","../src/game/animations/barkley/stand-up-4.png"],down:["../src/game/animations/barkley/stand-down-0.png","../src/game/animations/barkley/stand-down-1.png","../src/game/animations/barkley/stand-down-2.png","../src/game/animations/barkley/stand-down-3.png","../src/game/animations/barkley/stand-down-4.png","../src/game/animations/barkley/stand-down-5.png"]}},move:{frames:8,frameData:{up:["../src/game/animations/barkley/move-up-0.png","../src/game/animations/barkley/move-up-1.png","../src/game/animations/barkley/move-up-2.png","../src/game/animations/barkley/move-up-3.png","../src/game/animations/barkley/move-up-4.png","../src/game/animations/barkley/move-up-5.png","../src/game/animations/barkley/move-up-6.png","../src/game/animations/barkley/move-up-7.png"],down:["../src/game/animations/barkley/move-down-0.png","../src/game/animations/barkley/move-down-1.png","../src/game/animations/barkley/move-down-2.png","../src/game/animations/barkley/move-down-3.png","../src/game/animations/barkley/move-down-4.png","../src/game/animations/barkley/move-down-5.png","../src/game/animations/barkley/move-down-6.png","../src/game/animations/barkley/move-down-7.png"],right:["../src/game/animations/barkley/move-right-0.png","../src/game/animations/barkley/move-right-1.png","../src/game/animations/barkley/move-right-2.png","../src/game/animations/barkley/move-right-3.png","../src/game/animations/barkley/move-right-4.png","../src/game/animations/barkley/move-right-5.png","../src/game/animations/barkley/move-right-6.png","../src/game/animations/barkley/move-right-7.png"],left:["../src/game/animations/barkley/move-left-0.png","../src/game/animations/barkley/move-left-1.png","../src/game/animations/barkley/move-left-2.png","../src/game/animations/barkley/move-left-3.png","../src/game/animations/barkley/move-left-4.png","../src/game/animations/barkley/move-left-5.png","../src/game/animations/barkley/move-left-6.png","../src/game/animations/barkley/move-left-7.png"]}},attack:{frames:3,frameData:{up:["../src/game/animations/barkley/attack-up-0.png","../src/game/animations/barkley/attack-up-1.png","../src/game/animations/barkley/attack-up-2.png"],down:["../src/game/animations/barkley/attack-down-0.png","../src/game/animations/barkley/attack-down-1.png","../src/game/animations/barkley/attack-down-2.png"],right:["../src/game/animations/barkley/attack-right-0.png","../src/game/animations/barkley/attack-right-1.png","../src/game/animations/barkley/attack-right-2.png"],left:["../src/game/animations/barkley/attack-left-0.png","../src/game/animations/barkley/attack-left-1.png","../src/game/animations/barkley/attack-left-2.png"]}},dunk:{frames:9,frameData:{up:["../src/game/animations/barkley/dunk-0.png","../src/game/animations/barkley/dunk-1.png","../src/game/animations/barkley/dunk-2.png","../src/game/animations/barkley/dunk-3.png","../src/game/animations/barkley/dunk-4.png","../src/game/animations/barkley/dunk-5.png","../src/game/animations/barkley/dunk-6.png","../src/game/animations/barkley/dunk-7.png","../src/game/animations/barkley/dunk-8.png"],down:["../src/game/animations/barkley/dunk-0.png","../src/game/animations/barkley/dunk-1.png","../src/game/animations/barkley/dunk-2.png","../src/game/animations/barkley/dunk-3.png","../src/game/animations/barkley/dunk-4.png","../src/game/animations/barkley/dunk-5.png","../src/game/animations/barkley/dunk-6.png","../src/game/animations/barkley/dunk-7.png","../src/game/animations/barkley/dunk-8.png"]}},death:{frames:15,frameData:{up:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"],down:["../src/game/animations/explosion/tile-0.png","../src/game/animations/explosion/tile-1.png","../src/game/animations/explosion/tile-2.png","../src/game/animations/explosion/tile-3.png","../src/game/animations/explosion/tile-4.png","../src/game/animations/explosion/tile-5.png","../src/game/animations/explosion/tile-6.png","../src/game/animations/explosion/tile-7.png","../src/game/animations/explosion/tile-8.png","../src/game/animations/explosion/tile-9.png","../src/game/animations/explosion/tile-10.png","../src/game/animations/explosion/tile-11.png","../src/game/animations/explosion/tile-12.png","../src/game/animations/explosion/tile-13.png","../src/game/animations/explosion/tile-14.png","../src/game/animations/explosion/tile-15.png"]}}},this.life=5,this.offset=[50,70],this.centerPos=[this.position[0]+this.offset[0]+this.position[1]+this.offset[1]]}resetAnimation(){this.state="stand",this.frame=0,this.frameLength=3,this.offset=[50,70],this.updateCenterPos()}draw(t){var e=new Image,n=this.position,a=this.lastDirLR,r=this.lastDirUD;switch(this.state){case"stand":e.src=this.animations[this.state].frameData[this.lastDirUD][this.frame],i(t,e,n[0],n[1],100,140,0,"down"===r&&"left"===a||"up"===r&&"right"===a,!1);break;case"move":case"attack":e.src=this.animations[this.state].frameData[this.lastDir][this.frame],t.drawImage(e,n[0],n[1]);break;case"dunk":e.src=this.animations[this.state].frameData[this.lastDirUD][this.frame],i(t,e,n[0],n[1]-20,120,175,0,"left"===a,!1);break;default:e.src=this.animations[this.state].frameData[this.lastDirUD][this.frame],i(t,e,n[0],n[1],150,150,0,"left"===a,!1)}}die(){this.life-=1,this.life<=0&&"death"!==this.state&&(this.state="death",this.frame=0,this.frameLength=4,this.frameTime=4,setTimeout(()=>this.game.gameOver(),1e3))}move(t){switch(this.state="move",this.offset=[60,70],this.frameLength=3,this.updateCenterPos(),t){case"up":this.position[1]-48<0?this.movement[1]=-this.position[1]:this.movement[1]=-48,this.lastDirUD="up",this.lastDir="up";break;case"down":this.position[1]+48>this.game.dimensions.height?this.movement[1]=this.game.dimensions.height-this.position[1]:this.movement[1]=48,this.lastDirUD="down",this.lastDir="down";break;case"left":this.position[0]-48<0?this.movement[0]=-this.position[0]:this.movement[0]=-48,this.lastDirLR="left",this.lastDir="left";break;case"right":this.position[0]+48>this.game.dimensions.width?this.movement[0]=this.game.dimensions.width-this.position[0]:this.movement[0]=48,this.lastDirLR="right",this.lastDir="right"}}attack(){if("death"===this.state)return null;let t,e;switch(this.state="attack",this.offset=[60,70],this.frameLength=8,this.frameTime=8,this.frame=0,this.updateCenterPos(),this.lastDir){case"up":t=[this.centerPos[0]-25,this.centerPos[0]+25],e=[this.centerPos[1]-80,this.centerPos[1]+10];break;case"down":t=[this.centerPos[0]-25,this.centerPos[0]+25],e=[this.centerPos[1]-10,this.centerPos[1]+80];break;case"left":e=[this.centerPos[1]-30,this.centerPos[1]+30],t=[this.centerPos[0]-75,this.centerPos[0]+5];break;case"right":e=[this.centerPos[1]-30,this.centerPos[1]+30],t=[this.centerPos[0]-5,this.centerPos[0]+75]}console.log("pos"),console.log(this.position),console.log("center"),console.log(this.centerPos),console.log("atk coords"),console.dir([t,e]),this.game.chars.push(new s(this.game,[(t[0]+t[1])/2,(e[0]+e[1])/2])),this.game.handleAttack(this,t,e)}dunk(){if("death"===this.state||this.game.specialMeter<5)return null;this.game.specialMeter-=5,this.state="dunk",this.offset=[60,87.5],this.frameLength=5,this.frameTime=5,this.frame=0,this.updateCenterPos(),this.movement=[0,0];let t=[this.centerPos[0]-150,this.centerPos[0]+150],e=[this.centerPos[1]-150,this.centerPos[1]+150];this.game.chars.unshift(new o(this.game,this.centerPos)),this.game.handleAttack(this,t,e)}}const c=["left","down","right","up"];class m extends r{constructor(t){super(t,t.randomPosAtEdges()),this.animations={stand:{frames:2,frameData:{up:["../src/game/animations/referee/stand-up-0.png","../src/game/animations/referee/stand-up-1.png"],down:["../src/game/animations/referee/stand-down-0.png","../src/game/animations/referee/stand-down-1.png"]}},move:{frames:6,frameData:{up:["../src/game/animations/referee/walk-up-0.png","../src/game/animations/referee/walk-up-1.png","../src/game/animations/referee/walk-up-2.png","../src/game/animations/referee/walk-up-3.png","../src/game/animations/referee/walk-up-4.png","../src/game/animations/referee/walk-up-5.png"],down:["../src/game/animations/referee/walk-down-0.png","../src/game/animations/referee/walk-down-1.png","../src/game/animations/referee/walk-down-2.png","../src/game/animations/referee/walk-down-3.png","../src/game/animations/referee/walk-down-4.png","../src/game/animations/referee/walk-down-5.png"]}},attack:{frames:2,frameData:{up:["../src/game/animations/referee/attack-0.png","../src/game/animations/referee/attack-1.png"],down:["../src/game/animations/referee/attack-0.png","../src/game/animations/referee/attack-1.png"]}},death:{frames:6,frameData:{up:["../src/game/animations/referee/death-0.png","../src/game/animations/referee/death-1.png","../src/game/animations/referee/death-2.png","../src/game/animations/referee/death-3.png","../src/game/animations/referee/death-4.png","../src/game/animations/referee/death-5.png"],down:["../src/game/animations/referee/death-0.png","../src/game/animations/referee/death-1.png","../src/game/animations/referee/death-2.png","../src/game/animations/referee/death-3.png","../src/game/animations/referee/death-4.png","../src/game/animations/referee/death-5.png"]}}},this.AI()}AI(){var t,e,n,i,a,r;"death"!==this.state&&(this.move(c[Math.floor(4*Math.random())]),"death"!==this.state&&(t=this.position,e=this.game.player.position,n=t[0],i=t[1],a=n-e[0],r=i-e[1],Math.sqrt(a*a+r*r)<100)&&this.attack()),setTimeout(()=>this.AI(),1e3)}die(){"death"!==this.state&&(this.state="death",this.frame=0,this.frameLength=8,this.frameTime=8,this.game.kills+=1,setTimeout(()=>{this.game.chars.splice(this.game.chars.indexOf(this),1)},1e3))}}class h{constructor(t,e){this.game=t,this.ctx=e,this.renderInt,this.ctx.font="25px proxima-nova"}render(){this.ctx.fillStyle="black";let t=new Image;t.src="../src/game/animations/cb-logo.png";let e=new Image;e.onload=()=>{this.ctx.drawImage(e,0,0),this.ctx.drawImage(t,Math.floor(this.game.canvas.width/2-242.5),50,485,237),this.ctx.fillText("The referees are blind and are trying to take over the game!",this.game.canvas.width/2-240,this.game.canvas.height/2+50,500),this.ctx.fillText("It's up to Charles Barkley to help them see the light.",this.game.canvas.width/2-240,this.game.canvas.height/2+80,500),this.ctx.fillText("Controls:",this.game.canvas.width/2-300,this.game.canvas.height/2+130,500),this.ctx.fillText("Movement : ↑↓←→",this.game.canvas.width/2-300,this.game.canvas.height/2+155,500),this.ctx.fillText("Attack : A",this.game.canvas.width/2-300,this.game.canvas.height/2+180,500),this.ctx.fillText("Special : S",this.game.canvas.width/2-300,this.game.canvas.height/2+205,500),this.ctx.fillText("Press any key to start",this.game.canvas.width/2+100,this.game.canvas.height/2+155,500)},e.src="../src/game/animations/white.jpg",this.ctx.color="black"}start(){this.renderInt=setInterval(()=>this.render(),1e3)}}var u=n(0),p=n.n(u);const g=document.getElementById("game-canvas");window.Player=l,window.Enemy=m,window.Character=r;const f=p.a.throttle(()=>y.player.attack(),1e3,{trailing:!1}),d=p.a.throttle(()=>y.player.dunk(),2500,{trailing:!1}),v=()=>{y.start(),clearInterval(y.menu.renderInt),y.menu=null,document.removeEventListener("keydown",v),document.addEventListener("keydown",t=>{if("death"===y.player.state)return null;"ArrowLeft"===t.code&&y.player.move("left"),"ArrowDown"===t.code&&y.player.move("down"),"ArrowRight"===t.code&&y.player.move("right"),"ArrowUp"===t.code&&y.player.move("up"),"KeyA"===t.code&&f(),"KeyS"===t.code&&d()}),k()};let y=new class{constructor(t){this.chars=[],this.player=new l(this),this.canvas=t,this.dimensions={width:t.width-100,height:t.height-100},this.ctx=t.getContext("2d"),this.chars.push(this.player),this.player.draw(this.ctx),this.interval,this.kills=0,this.baseEnemies=1,this.specialMeter=5,this.over=!1,this.menu=new h(this,this.ctx),this.scoreboard=new Image,this.scoreboard.src="../src/game/animations/scoreboard-new.png"}factory(){this.createEnemy(),"death"!==this.player.state&&setTimeout(()=>this.factory(),Math.floor(5e3*Math.random()))}randomPosAtEdges(){let t=Math.floor(Math.random()*this.dimensions.width),e=Math.floor(Math.random()*this.dimensions.height);return[[0,e],[t,0],[this.dimensions.width,e],[t,this.dimensions.height]][Math.floor(3.9999*Math.random())]}createEnemy(){let t=new m(this);this.chars.push(t)}handleAttack(t,e,n){if("death"===t.state||!t)return null;for(var i of this.chars)i.__proto__.constructor.name!==t.__proto__.constructor.name&&a(i.centerPos[0],e[0],e[1])&&a(i.centerPos[1],n[0],n[1])&&(i instanceof m&&(this.specialMeter+=1),"death"!==i.state&&i.die())}draw(){for(let t of this.chars)t.draw(this.ctx);this.ctx.drawImage(this.scoreboard,this.canvas.width-199,this.canvas.height-103),this.ctx.fillStyle="#ffffff",this.ctx.fillText(this.kills,this.canvas.width-199+116,this.canvas.height-103+36),this.ctx.fillRect(this.canvas.width-191,this.canvas.height-33,this.specialMeter/10*182,30),this.player.life>2?this.ctx.fillStyle="rgb(0, 255, 0)":2===this.player.life?this.ctx.fillStyle="rgb(255, 255, 0)":this.ctx.fillStyle="rgb(255, 0, 0)",this.ctx.fillRect(this.canvas.width-191,this.canvas.height-53,this.player.life/5*182,16)}animate(){for(var t of this.chars)t.frameTime>t.frameLength&&(t.frameTime=t.frameLength),t.frameTime>0?t.frameTime-=1:(t.frameTime=t.frameLength,t.frame+1>=t.animations[t.state].frames?(t.state,t.resetAnimation(),t.frame=0):t.frame+=1),t.handleMovement()}start(){this.ctx.font="32px verdana, sans-serif",this.factory()}gameOver(){clearInterval(this.interval),this.over=!0,alert(`Game Over! Your score is ${this.kills}!`),location.reload()}}(g);window.addEventListener("load",()=>{y.menu.start()},!1),setTimeout(()=>document.addEventListener("keydown",v),2e3),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,66)};const k=()=>{y.animate(),y.ctx.clearRect(0,0,y.canvas.width,y.canvas.height),y.draw(),!0!==y.over&&requestAnimFrame((function(){k()}))}}]);